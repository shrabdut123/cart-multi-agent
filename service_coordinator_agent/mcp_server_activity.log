2025-08-22 10:55:08,415 - DEBUG - Initializing server 'minimal-mcp-server'
2025-08-22 10:55:08,416 - DEBUG - Registering handler for ListToolsRequest
2025-08-22 10:55:08,416 - DEBUG - Registering handler for CallToolRequest
2025-08-22 10:55:08,416 - INFO - Launching MCP server...
2025-08-22 10:55:08,416 - DEBUG - Using selector: KqueueSelector
2025-08-22 10:55:08,422 - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-08-22 10:55:08,422 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x1086311b0>
2025-08-22 10:55:08,422 - INFO - Processing request of type ListToolsRequest
2025-08-22 10:55:08,422 - DEBUG - Dispatching request of type ListToolsRequest
2025-08-22 10:55:08,422 - DEBUG - Response sent
2025-08-22 10:55:11,590 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x108630b50>
2025-08-22 10:55:11,590 - INFO - Processing request of type CallToolRequest
2025-08-22 10:55:11,590 - DEBUG - Dispatching request of type CallToolRequest
2025-08-22 10:55:11,590 - INFO - Received tool call: fetch-home-delivery-services with arguments {'checkoutId': '36b84af4-01c1-4209-ac01-38c941ac7737', 'retailUnit': 'se', 'serviceAreaId': '6b33245b-a112-4335-948e-487a72395238'}
2025-08-22 10:55:11,590 - DEBUG - Starting new HTTPS connection (1): ordercapture.ingka.com:443
2025-08-22 10:55:12,917 - DEBUG - https://ordercapture.ingka.com:443 "GET /ordercaptureapi/se/checkouts/36b84af4-01c1-4209-ac01-38c941ac7737/service-area/6b33245b-a112-4335-948e-487a72395238/home-delivery-services HTTP/1.1" 200 4614
2025-08-22 10:55:12,921 - INFO - Order Capture DS API response: {'context': {'retailUnit': 'se', 'exclTaxCountry': False, 'checkoutId': '36b84af4-01c1-4209-ac01-38c941ac7737', 'currency': 'SEK', 'scope': {'type': 'HOME_DELIVERY', 'subTypes': None}, 'config': {'enableLeadTimeOrchestration': True, 'enablePrimeTimeCalculation': True, 'serviceOfferCompatibleDeliveries': [{'deliveryServiceItemNo': 'SGR00000873'}, {'deliveryServiceItemNo': 'SGR10000900'}, {'deliveryServiceItemNo': 'SGR10000896'}, {'deliveryServiceItemNo': 'SGR30000961'}, {'deliveryServiceItemNo': 'SGR00000948'}, {'deliveryServiceItemNo': 'SGR50000955'}, {'deliveryServiceItemNo': 'SGR70000898'}, {'deliveryServiceItemNo': 'SGR30000904'}, {'deliveryServiceItemNo': 'SGR50000899'}, {'deliveryServiceItemNo': 'SGR10000919'}, {'deliveryServiceItemNo': 'SGR50990003'}, {'deliveryServiceItemNo': 'SGR50000903'}, {'deliveryServiceItemNo': 'SGR90000897'}, {'deliveryServiceItemNo': 'SGR50000875'}, {'deliveryServiceItemNo': 'SGR70000855'}, {'deliveryServiceItemNo': 'SGR50000856'}, {'deliveryServiceItemNo': 'SGR00000854'}, {'deliveryServiceItemNo': 'SGR20000853'}, {'deliveryServiceItemNo': 'SGR40000852'}, {'deliveryServiceItemNo': 'SGR50000597'}, {'deliveryServiceItemNo': 'SGR60000851'}, {'deliveryServiceItemNo': 'SGR40000606'}], 'allowedPTSDeliveries': ['HOME_DELIVERY_STANDARD', 'HOME_DELIVERY_CURBSIDE', 'HOME_DELIVERY_EXPRESS', 'HOME_DELIVERY_EXPRESS_CURBSIDE']}, 'businessUnit': {'code': '010', 'type': 'STO'}, 'customerContext': {'customerType': 'PRIVATE', 'familyId': None, 'employeeId': None}, 'capability': {'wheelChair': False, 'rangeOfDays': True, 'authToLeave': True}}, 'error': None, 'possibleDeliveryServices': {'metadata': {'canAtLeastOneSolutionFulfillEntireCart': False, 'expiryTime': None, 'hasAtLeastOneNoStockDelivery': False}, 'deliveryServices': [{'metadata': {'selectableInfo': {'selectable': 'NO', 'reason': ['ORDER_VALUE_BELOW_MIN_THRESHOLD', 'SERVICE_PRICE_UNAVAILABLE']}, 'serviceOfferCompatible': True, 'assemblyServiceCompatible': True, 'removalSofaCompatible': False, 'removalMattressCompatible': False, 'removalWhiteGoodsCompatible': False, 'wheelChairCapability': False, 'slotBasedPricingEnabled': True, 'maxSolutionPrice': None, 'minSolutionPrice': None, 'deliveryPriceBasedOnPUPZipCode': False, 'hasNoStockDelivery': False}, 'id': 'f51b629c-db49-48ad-816b-525291e8dc36', 'deliveryArrangementsId': 'SE2025082208551197136080', 'fulfillmentMethodType': 'HOME_DELIVERY', 'fulfillmentPossibility': 'FULL', 'solutionId': 'HD~1~STANDARD', 'solution': 'STANDARD', 'solutionPrice': None, 'expiryTime': '2025-08-22T09:25:12.859Z', 'possibleDeliveries': {'metadata': {'multipleDeliveries': False}, 'deliveries': [{'id': 'f55e7580-dba6-4245-99da-5588a082ca56', 'metadata': {'rangeOfDays': False, 'noStockDelivery': False}, 'fulfillmentDeliveryId': 'HD~~~2', 'serviceItemId': 'SGR50000597', 'type': 'PARCEL', 'deliveryPrice': {'inclTax': None, 'exclTax': None, 'originalPrice': None}, 'deliveryItems': [{'itemNo': '50097995', 'itemType': 'ART', 'quantity': 1, 'shipNode': 'CDC.031', 'parentId': None}], 'possiblePickUpPoints': None, 'timeWindows': {'metadata': {'available': True}, 'earliestPossibleSlot': {'metadata': {'timeZone': 'Europe/Berlin', 'hasPriceDeviation': False}, 'id': '470590b8-f12c-411b-a656-159f014ef062', 'fromDateTime': '2025-08-25T07:00:00.000', 'toDateTime': '2025-08-25T22:00:00.000', 'capability': None, 'price': None}, 'error': None}}]}, 'errors': None, 'unavailableItems': None}, {'metadata': {'selectableInfo': {'selectable': 'NO', 'reason': ['ORDER_VALUE_BELOW_MIN_THRESHOLD', 'SERVICE_PRICE_UNAVAILABLE']}, 'serviceOfferCompatible': True, 'assemblyServiceCompatible': True, 'removalSofaCompatible': False, 'removalMattressCompatible': False, 'removalWhiteGoodsCompatible': False, 'wheelChairCapability': False, 'slotBasedPricingEnabled': True, 'maxSolutionPrice': None, 'minSolutionPrice': None, 'deliveryPriceBasedOnPUPZipCode': False, 'hasNoStockDelivery': False}, 'id': 'c4bf43c7-ae8d-491b-bc20-b96c35550ade', 'deliveryArrangementsId': 'SE2025082208551197136080', 'fulfillmentMethodType': 'HOME_DELIVERY', 'fulfillmentPossibility': 'FULL', 'solutionId': 'EXP~1~EXPRESS', 'solution': 'EXPRESS', 'solutionPrice': None, 'expiryTime': '2025-08-22T09:25:12.859Z', 'possibleDeliveries': {'metadata': {'multipleDeliveries': False}, 'deliveries': [{'id': '507331f9-3861-4cfd-a0f7-2b057cfbce29', 'metadata': {'rangeOfDays': False, 'noStockDelivery': False}, 'fulfillmentDeliveryId': 'EXP~~~2', 'serviceItemId': 'SGR10000900', 'type': 'PARCEL', 'deliveryPrice': {'inclTax': None, 'exclTax': None, 'originalPrice': None}, 'deliveryItems': [{'itemNo': '50097995', 'itemType': 'ART', 'quantity': 1, 'shipNode': 'CDC.031', 'parentId': None}], 'possiblePickUpPoints': None, 'timeWindows': {'metadata': {'available': True}, 'earliestPossibleSlot': {'metadata': {'timeZone': 'Europe/Berlin', 'hasPriceDeviation': False}, 'id': '7d06bd03-c521-4c07-a80b-159f0149ee8c', 'fromDateTime': '2025-08-25T08:00:00.000', 'toDateTime': '2025-08-25T18:00:00.000', 'capability': None, 'price': None}, 'error': None}}]}, 'errors': None, 'unavailableItems': None}]}}
2025-08-22 10:55:12,922 - DEBUG - Response sent
2025-08-22 10:55:12,934 - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x108631780>
2025-08-22 10:55:12,935 - INFO - Processing request of type ListToolsRequest
2025-08-22 10:55:12,935 - DEBUG - Dispatching request of type ListToolsRequest
2025-08-22 10:55:12,935 - DEBUG - Response sent
